# Road-to-Clean-Code - 2편 (의미 있는 이름)



## 개요

 소프트웨어를 개발하면서 이름을 짓는 것은 피할 수 없습니다. 변수, 함수, 인수, 클래스, 패키지, 소스 파일, .jar 파일 등등 개발을 하면서 이름은 어디에서든지 등장합니다. 그러므로 이러한 이름을 의미있게 부여하면 가독성이 증가하게  되고 이는 1장에서 강조한 깨끗한 코드로 한 걸음 나아갈 수 있을 것이라고 생각합니다. 



 지금부터 의미 있는 이름을 짓기 위해서 어떤 규칙을 지켜야 하고 어떤 것을 피해야 하는지에 대해 알아보겠습니다.



## 의미 있는 이름은 어떻게 만들까?

### 1) 의도가 분명하게 이름을 지어야 합니다.

의도가 드러난 이름의 경우, 다음 세 가지에 답할 수 있습니다.

> * 변수(혹은 함수나 클래스)의 존재 이유는?
> * 변수(혹은 함수나 클래스)의 수행 기능은?
> * 변수(혹은 함수나 클래스)의 사용 방법은?



다음의 변수명은 이를 만족하지 못하므로 의도를 알기 위해서는 주석이 필요합니다. 의미 있는 이름의 경우, 주석이 필요하지 않습니다.

~~~ java
int d; // 경과 시간 (단위 : 날짜)
~~~



이를 의미 있는 이름으로 변경해보겠습니다. 아래 변수명은 그 이름 만으로 존재 이유, 수행 기능, 사용 방법이 드러납니다.

~~~java
int elapsedTimeInDays;
int daysSinceCreation;
int daysSinceModification;
int fileAgeInDays
~~~

 

 다음 코드도 위의 세 가지를 만족하지 못 합니다.

~~~ java
public List<int[]> getThem() {
    
    List<int[]> list1 = new ArrayList<int[]>();
    
    for (int[] x : theList)
        if (x[0] == 4)
            list1.add(x);
    
    return list1;
}
~~~



 `theList`의 존재 이유는 무엇인가요? `theList`가 수행하는 기능은 무엇일까요? 왜 4라는 값이 중요할까요?

해당 코드는 단순한 구조이지만 코드의 맥락이 드러나지 않습니다.

위의 코드에 의미를 부여하면 다음과 같습니다.

~~~java
public List<Cell> getFlaggedCells() {

    List<Cell> flaggedCells = new ArrayList<Cell>();
    
    for (Cell cell : gameBoard)
        if (cell.isFlagged())
            flaggedCells.add(cell);
    
    return flaggedCells;
}
~~~

 해당 코드는 각 변수명의 이름을 보면 게임판에서 깃발이 꽂힌 셀을 가져오는 기능이라는 것을 명확하게 확인할 수 있습니다. 코드의 맥락 상 지뢰찾기 게임까지도 유추해볼 수 있습니다. 이름에 의미를 부여하자 코드의 단순성은 동일하고, 코드는 더 명확해지는 것을 알 수 있습니다.



  `Info`나 `Data` 같은 단어는 접두사 혹은 접미사로 사용되었을 때, 그 의미가 불분명한 불용어입니다. 단적인 예로 `ProductInfo`, `ProductData`, `Product`의 차이점이 무엇일까요? 구분이 어렵습니다. 그러므로 우리는 읽는 사람이 차이를 알 수 있도록 이름을 지어야만 합니다. 한 개념에는 하나의 단어를 사용해야 합니다. `DeviceManager`와 `ProtocolController`는 둘 다 유사한 개념을 가졌지만 전혀 다른 형태를 사용하고 있으므로 혼란이 발생할 수 있으므로 일관성 있는 어휘를 사용해야만 합니다.



### 2) 이름을 지을 때, 그릇된 정보를 나타낼 수 있는 요소를 제거해야 합니다.

 예를 들어, 우리가 흔히 사용하는 키워드들 혹은 예약어를 사용하면 그 의미가 흐려집니다. 예를 들어, 여러 계정을 그룹으로 묶을 때, 실제 `List`가 아니라면 `accountList`라는 표현은 삼가해야 합니다. 개발자에게 `List`는 특수한 의미가 존재하기 때문입니다. 이럴 때는 `accountGroup`, `brunchOfAccounts`, `accounts`라고 명명하는 편이 더 낫습니다.



### 3) 검색하기 쉬운 이름을 사용해야 합니다.

  변수 혹은 상수를 많이 사용한다면 의미 있는 이름을 부여해서 검색에 용이하게 처리해야만 합니다. 즉, 매직 넘버를 사용하는 경우, 구체적인 이름을 부여해서 검색하기 쉽도록 해야만 합니다. 



### 4) 인코딩을 피해야 합니다.

 헝가리식 표기법과 같이 변수명에 타입을 인코딩할 필요가 없습니다. 이전과 달리 IDE의 발전으로 코드 컴파일 없이 타입 오류를 감지할 수 있습니다. 그러므로 헝가리식 표기법이나 인코딩은 오히려 이름이나 타입을 바꾸기 어렵게 만드는 원인이 되기도 합니다.  `String phoneString` -> `PhoneNumber phoneString` 와 같이 타입이 바뀌어도 이름은 변경되지 않습니다. 



### 5) 발음하기 쉬운 단어를 사용해야 합니다.

 아래 코드들과 같이 발음하기 어려운 이름은 토론하기 어렵습니다. 

~~~java
class DtaRcrd102 {
    private Date genymdhms;
    private Date modymdhms;
    private final String pszqint = "102"
}
~~~



즉, 다음과 같이 코드를 통해 의사 소통을 하기 위해서는 발음이 쉬운 단어를 사용해야 합니다. 

~~~java
class Customer {
	private Date generationTimestamp;
	private Date modificationTimestamp;
	private final String recordId = "102";
}
~~~



### 6) 다른 사람이 이해하는 이름을 작성해야 합니다. 

 **클래스 이름 혹은 객체 이름은 명사 혹은 명사구가 적합**합니다. 단 불용어의 경우 피하고, 동사는 사용하지 않습니다. 예를 들어 `Customer`, `Account`가 이에 해당합니다. **메서드의 경우, 동사 혹은 동사구가 적합**합니다. `postPayment`, `deletePage` 등이 이에 해당합니다. 접근자, 변경자, 조건자의 경우 javabean 표준에 따라서 값에 get, set, is를 붙입니다. 또한 속어 혹은 구어체 용어는 자제하고, **명료한 단어**를 사용해야 합니다.



### 7) 문제 영역과 해법 영역의 이름을 구분하여 고려할 수 있어야 합니다. 

 코드를 읽을 사람도 프로그래머이기 때문에 전산 용어, 알고리즘, 패턴 등의 이름을 사용하는 것은 고려할 수 있습니다. 모든 이름을 문제 영역에서 가져오는 것은 제한적입니다. 즉, `Vistior`패턴에 친숙한 프로그래머는 `AccountVisitor`라는 이름을 금방 이해할 수 있는 것 처럼 해법 영역의 이름도 고려해볼 수 있습니다. 하지만 문제 영역의 개념과 더 관련이 깊은 코드의 경우에는 이에 따라서 명명을 해야 합니다.



### 8) 의미 있는 맥락을 부여할 수 있어야 합니다. 

 스스로 분명한 의미를 가진 이름을 사용할 수 있으나, 그렇지 않다면 클래스 혹은 함수 속에 넣어서 그 의미를 부여할 수 있어야 합니다. 

~~~ java
public class GuessStatisticsMessage {
    
    private String number;
    private String verb;
    private String pluralModifier;
    
    /**
    ...
    **/
}
~~~

`number`, `verb`, `pluralModifier`는 클래스 안에서 맥락에 따라 의미가 부여되는 모습을 확인할 수 있습니다. 



### 결론

* 의도가 분명하게 이름을 지어야 합니다.
* 이름을 지을 때, 그릇된 정보를 나타낼 수 있는 요소를 제거해야 합니다.
* 검색하기 쉬운 이름을 사용해야 합니다.
* 인코딩을 피해야 합니다.
* 발음하기 쉬운 단어를 사용해야 합니다.
* 다른 사람이 이해하는 이름을 작성해야 합니다. 
* 문제 영역과 해법 영역의 이름을 구분하여 고려할 수 있어야 합니다. 
* 의미 있는 맥락을 부여할 수 있어야 합니다. 

